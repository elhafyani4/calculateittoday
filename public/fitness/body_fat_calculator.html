<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Body Fat Calculator - Achieve Optimal Health</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@tailwindcss/browser@latest"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        .method-section {
            transition: height 0.3s ease, padding 0.3s ease;
            overflow: hidden;
        }

        .method-hidden {
            display: none !important;
        }
        body { font-family: Arial, sans-serif; }
.container { max-width: 800px; margin: auto; padding: 20px; }
.card { background-color: white; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); padding: 30px; }
.title { text-align: center; color: #333; font-size: 28px; margin-bottom: 25px; }
.input-group { margin-bottom: 15px; }
.label { display: block; margin-bottom: 5px; color: #666; }
.input-field { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 16px; }
.calculate-button { background-color: #28a745; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; transition: background-color 0.3s ease; }
.calculate-button:hover { background-color: #218838; }
.results-section { margin-top: 30px; text-align: center; }
.result-value { color: #4CAF50; font-weight: bold; font-size: 36px; display: inline-block; padding: 10px; border-radius: 5px; background-color: rgba(76, 175, 80, 0.2); }
.method-toggle { margin-top: 20px; text-align: center; cursor: pointer; color: #007bff; font-weight: bold; transition: color 0.3s ease; }
.method-toggle:hover { color: #0056b3; }

/* Mobile Responsiveness */
@media (max-width: 600px) {
    .card { padding: 20px; }
    .title { font-size: 24px; }
}
    </style>
</head>
<body class="bg-gray-100 font-sans">

<div class="min-h-screen bg-gradient-to-br from-teal-50 to-white flex items-center justify-center">
    <div class="max-w-md p-8 bg-white rounded-xl shadow-lg overflow-hidden">
        <h2 class="text-3xl font-bold text-gray-900 mb-6"><i class="fa-solid fa-calculator mr-2"></i> Body Fat Calculator</h2>

         <form id="bodyFatForm" class="space-y-4">
            <div>
                <label for="gender" class="block text-sm font-medium text-gray-700">Gender:</label>
                <select id="gender" name="gender" required class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm">
                    <option value="">Select Gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>

             <div id="waistNeckSection" class="method-section">
                 <h3 class="text-xl font-semibold text-gray-800 mb-2"><i class="fa-solid fa-tape mr-1"></i> Waist-to-Neck Ratio Method</h3>
                <p class="mb-4 text-gray-600">This method uses waist and neck circumferences to estimate body fat percentage.</p>

                 <div>
                     <label for="waist" class="block text-sm font-medium text-gray-700">Waist Circumference (cm):</label>
                    <input type="number" id="waist" name="waist" placeholder="Enter waist circumference in cm" required class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm">
                </div>

                 <div>
                     <label for="abdominal" class="block text-sm font-medium text-gray-700">Abdominal Circumference (cm):</label>
                    <input type="number" id="abdominal" name="abdominal" placeholder="Enter abdominal circumference in cm" required class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm">
                </div>

                 <div>
                     <label for="neck" class="block text-sm font-medium text-gray-700">Neck Circumference (cm):</label>
                    <input type="number" id="neck" name="neck" placeholder="Enter neck circumference in cm" required class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm">
                </div>
            </div>

             <div id="bmiSection" class="method-section method-hidden mt-8">
                 <h3 class="text-xl font-semibold text-gray-800 mb-2"><i class="fa-solid fa-weight-hanging mr-1"></i> BMI Method (Approximation)</h3>
                <p class="mb-4 text-gray-600">This method uses height and weight to calculate BMI, then approximates body fat percentage. Note: This is a general approximation.</p>

                 <div>
                     <label for="height" class="block text-sm font-medium text-gray-700">Height (cm):</label>
                    <input type="number" id="height" name="height" placeholder="Enter height in cm" required class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm">
                </div>

                 <div>
                     <label for="weight" class="block text-sm font-medium text-gray-700">Weight (kg):</label>
                    <input type="number" id="weight" name="weight" placeholder="Enter weight in kg" required class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm">
                </div>
            </div>

             <div class="flex justify-between items-center mt-6">
                 <button type="button" id="methodToggle" class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:border-teal-500 focus:ring-teal-500">
                    <i id="toggleIcon" class="fa-solid fa-arrow-down mr-2"></i>
                    Switch to BMI Method
                </button>

                 <button type="submit" id="calculateButton" class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus-ring-2 focus-ring-offset-2 focus-ring-teal-500">
                    <i class="fa-solid fa-calculator mr-1"></i>
                    Calculate Body Fat
                </button>
            </div>

        </form>

         <section id="resultsSection" class="mt-8 hidden space-y-4 animate-fade-in">
             <h3 class="text-xl font-semibold text-gray-800">Your Estimated Body Fat:</h3>
            <p id="bodyFatResult" class="text-2xl font-bold text-teal-700"></p>
        </section>

    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const genderSelect = document.getElementById('gender');
        const waistNeckSection = document.getElementById('waistNeckSection');
        const bmiSection = document.getElementById('bmiSection');
        const methodToggleBtn = document.getElementById('methodToggle');
        const toggleIcon = document.getElementById('toggleIcon');
        const calculateButton = document.getElementById('calculateButton');
        const bodyFatForm = document.getElementById('bodyFatForm');
        const resultsSection = document.getElementById('resultsSection');
        const bodyFatResult = document.getElementById('bodyFatResult');

        let currentMethod = 'waistNeck';

         methodToggleBtn.addEventListener('click', () => {
            if (currentMethod === 'waistNeck') {
                waistNeckSection.classList.add('method-hidden');
                bmiSection.classList.remove('method-hidden');
                toggleIcon.className = 'fa-solid fa-arrow-up mr-2';
                methodToggleBtn.textContent = 'Switch to Waist-to-Neck Method';
                currentMethod = 'bmi';
            } else {
                waistNeckSection.classList.remove('method-hidden');
                bmiSection.classList.add('method-hidden');
                toggleIcon.className = 'fa-solid fa-arrow-down mr-2';
                methodToggleBtn.textContent = 'Switch to BMI Method';
                currentMethod = 'waistNeck';
            }
        });

         calculateButton.addEventListener('click', (e) => {
            e.preventDefault();
             resultsSection.classList.add('hidden');
            bodyFatResult.textContent = '';
            let bodyFatPercentage;

            if (currentMethod === 'waistNeck') {
                 const genderValue = genderSelect.value;
                const waistValue = parseFloat(document.getElementById('waist').value);
                const abdominalValue = parseFloat(document.getElementById('abdominal').value);
                const neckValue = parseFloat(document.getElementById('neck').value);

                 if (!genderValue || isNaN(waistValue) || isNaN(abdominalValue) || isNaN(neckValue)) {
                    alert('Please fill in all required fields for Waist-to-Neck Method.');
                    return;
                }

                if (genderValue === 'male') {
                     bodyFatPercentage = 86.010 * Math.log(waistValue - neckValue) + 69.325; // Male formula
                } else if (genderValue === 'female') {
                     bodyFatPercentage = 163.205 * Math.log(abdominalValue - neckValue) + 97.684; // Female formula
                }
            } else if (currentMethod === 'bmi') {
                 const heightValue = parseFloat(document.getElementById('height').value);
                const weightValue = parseFloat(document.getElementById('weight').value);

                 if (!genderSelect.value || isNaN(heightValue) || isNaN(weightValue)) {
                    alert('Please fill in all required fields for BMI Method.');
                    return;
                }

                const bmi = (weightValue / ((heightValue * heightValue) / 10000));

                if (bmi < 18.5) bodyFatPercentage = 'Underweight';
                else if (bmi >= 18.5 && bmi <= 24.9) bodyFatPercentage = 'Healthy weight';
                else if (bmi >= 25 && bmi <= 29.9) bodyFatPercentage = 'Overweight';
                else if (bmi > 30) bodyFatPercentage = 'Obese';

            } else {
                 alert('Invalid method selected.');
                return;
            }

             resultsSection.classList.remove('hidden');
            bodyFatResult.textContent = `${bodyFatPercentage}%`;
        });
    });
</script>

</body>
</html>